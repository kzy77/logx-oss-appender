# MinIO集成测试配置
# 本配置文件为MinIO集成测试提供默认配置值
#
# 配置覆盖优先级（从高到低）：
# 1. JVM系统属性：mvn test -Dlogx.oss.storage.endpoint=http://localhost:9000
# 2. 环境变量：export LOGX_OSS_STORAGE_ENDPOINT=http://localhost:9000
# 3. 本配置文件的默认值
#
# 环境变量命名规则：将配置键转大写下划线格式（处理驼峰）
# 例如：logx.oss.storage.endpoint -> LOGX_OSS_STORAGE_ENDPOINT
#       logx.oss.storage.accessKeyId -> LOGX_OSS_STORAGE_ACCESS_KEY_ID
#       logx.oss.engine.batch.count -> LOGX_OSS_ENGINE_BATCH_COUNT

# ===== 存储服务配置（可通过环境变量覆盖）=====
logx.oss.storage.endpoint=http://localhost:9000
logx.oss.storage.region=us
logx.oss.storage.accessKeyId=minioadmin
logx.oss.storage.accessKeySecret=minioadmin
logx.oss.storage.bucket=logx-test-bucket
logx.oss.storage.keyPrefix=integration-test/
logx.oss.storage.ossType=MINIO
logx.oss.storage.pathStyleAccess=true
logx.oss.storage.enableSsl=false

# ===== 引擎配置 =====

# 批处理触发配置（测试环境使用较小值以便快速触发）
logx.oss.engine.batch.count=100
logx.oss.engine.batch.bytes=1048576
logx.oss.engine.batch.maxAgeMs=5000

# 队列配置
logx.oss.engine.queue.capacity=1024

# 重试配置
logx.oss.engine.retry.maxRetries=3
logx.oss.engine.retry.baseBackoffMs=100
logx.oss.engine.retry.maxBackoffMs=5000

# 兜底机制配置
logx.oss.engine.fallback.path=target/test-fallback
logx.oss.engine.fallback.retentionDays=1
logx.oss.engine.fallback.scanIntervalSeconds=10

# 线程池配置
logx.oss.engine.threadPool.corePoolSize=2
logx.oss.engine.threadPool.maximumPoolSize=4

# 其他引擎配置
logx.oss.engine.emergencyMemoryThresholdMb=256
logx.oss.engine.logFileName=test-log
logx.oss.engine.enableCompression=true
logx.oss.engine.compressionThreshold=512
logx.oss.engine.enableSharding=true
logx.oss.engine.maxUploadSizeMb=5
