# LogX OSS Appender 统一配置示例
# 使用两大配置类：storage 和 engine

# ===== 存储服务配置 (logx.oss.storage.*) =====

# 基础S3兼容存储配置
logx.oss.storage.endpoint=https://oss-cn-guangzhou.aliyuncs.com
logx.oss.storage.region=us
logx.oss.storage.accessKeyId=${LOGX_OSS_STORAGE_ACCESS_KEY_ID}
logx.oss.storage.accessKeySecret=${LOGX_OSS_STORAGE_ACCESS_KEY_SECRET}
logx.oss.storage.bucket=my-application-logs
logx.oss.storage.keyPrefix=logs/application/

# 高级连接配置
logx.oss.storage.pathStyleAccess=false
logx.oss.storage.enableSsl=true
logx.oss.storage.maxConnections=50
logx.oss.storage.connectTimeout=30000
logx.oss.storage.readTimeout=60000

# ===== 引擎配置 (logx.oss.engine.*) =====

# 批处理配置
logx.oss.engine.batch.count=8192
logx.oss.engine.batch.bytes=10485760
logx.oss.engine.batch.maxAgeMs=60000

# 队列配置
logx.oss.engine.queue.capacity=524288
logx.oss.engine.queue.dropWhenFull=false

# 重试配置
logx.oss.engine.retry.maxRetries=3
logx.oss.engine.retry.baseBackoffMs=200
logx.oss.engine.retry.maxBackoffMs=10000

# 兜底机制配置
logx.oss.engine.fallback.path=fallback/logs
logx.oss.engine.fallback.retentionDays=7
logx.oss.engine.fallback.scanIntervalSeconds=60

# 线程池配置
logx.oss.engine.threadPool.corePoolSize=1
logx.oss.engine.threadPool.maximumPoolSize=1

# 其他引擎配置
logx.oss.engine.multiProducer=false
logx.oss.engine.enableCpuYield=true
logx.oss.engine.enableMemoryProtection=true
logx.oss.engine.maxShutdownWaitMs=30000
logx.oss.engine.logFileName=applogx
logx.oss.engine.emergencyMemoryThresholdMb=512
logx.oss.engine.enableCompression=true
logx.oss.engine.compressionThreshold=1024
logx.oss.engine.enableSharding=true
logx.oss.engine.maxUploadSizeMb=10

# ===== 多云服务配置示例 =====

# AWS S3 配置示例
#logx.oss.storage.endpoint=https://s3.amazonaws.com
#logx.oss.storage.region=us-east-1
#logx.oss.storage.pathStyleAccess=false
#logx.oss.storage.enableSsl=true

# 阿里云OSS配置示例
#logx.oss.storage.endpoint=https://oss-cn-hangzhou.aliyuncs.com
#logx.oss.storage.region=cn-hangzhou
#logx.oss.storage.pathStyleAccess=false
#logx.oss.storage.enableSsl=true

# 腾讯云COS配置示例
#logx.oss.storage.endpoint=https://cos.us.myqcloud.com
#logx.oss.storage.region=us
#logx.oss.storage.pathStyleAccess=false
#logx.oss.storage.enableSsl=true

# MinIO配置示例
#logx.oss.storage.endpoint=http://localhost:9000
#logx.oss.storage.region=us-east-1
#logx.oss.storage.pathStyleAccess=true
#logx.oss.storage.enableSsl=false

# ===== 配置优先级说明 =====
# 1. JVM系统属性 (-Dlogx.oss.storage.region=cn-beijing 或 -Dlogx.oss.engine.batch.count=10000)
# 2. 环境变量 (LOGX_OSS_STORAGE_REGION=cn-beijing 或 LOGX_OSS_ENGINE_BATCH_COUNT=10000)
# 3. 配置文件属性 (本文件中的配置)
# 4. 代码默认值

# ===== 使用示例 =====
# 1. Log4j 1.x: 在log4j.properties中包含此文件或直接使用这些属性
# 2. Log4j2: 在log4j2.xml的Properties部分引用或作为系统属性
# 3. Logback: 在logback.xml中通过property标签引用
# 4. Spring Boot: 在application.properties中直接使用

# 注意：配置分为两大类
# - logx.oss.storage.*: 存储服务相关配置（endpoint, region, bucket等）
# - logx.oss.engine.*: 异步引擎相关配置（batch, queue, retry, fallback等）