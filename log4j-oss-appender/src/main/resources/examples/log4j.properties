# Log4j 1.x Properties配置示例：OSS日志上传配置

# 根Logger配置：INFO级别，输出到控制台和OSS
log4j.rootLogger=INFO, console, oss

# 控制台Appender配置
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.Target=System.out
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{ISO8601} [%t] %-5p %c{1} - %m%n

# OSS Appender配置：上传日志到对象存储
log4j.appender.oss=org.logx.log4j.OSSAppender

# S3兼容存储配置 - 必需参数
# 支持阿里云OSS、AWS S3、腾讯云COS、MinIO等
log4j.appender.oss.endpoint=https://oss-cn-hangzhou.aliyuncs.com
log4j.appender.oss.region=cn-hangzhou
log4j.appender.oss.accessKeyId=${OSS_ACCESS_KEY_ID}
log4j.appender.oss.accessKeySecret=${OSS_ACCESS_KEY_SECRET}
log4j.appender.oss.bucket=my-app-logs

# 应用行为配置 - 可选参数（已设置最优默认值）
log4j.appender.oss.keyPrefix=logs/application/
log4j.appender.oss.maxQueueSize=100000
log4j.appender.oss.maxBatchCount=1000
log4j.appender.oss.maxBatchBytes=2097152
log4j.appender.oss.flushIntervalMs=5000
log4j.appender.oss.dropWhenQueueFull=false
log4j.appender.oss.multiProducer=false
log4j.appender.oss.maxRetries=3
log4j.appender.oss.baseBackoffMs=200
log4j.appender.oss.maxBackoffMs=10000

# 日志格式Layout
log4j.appender.oss.layout=org.apache.log4j.PatternLayout
log4j.appender.oss.layout.ConversionPattern=%d{ISO8601} [%t] %-5p %c{1} - %m%n

# 过滤器：只记录ERROR及以上级别
log4j.appender.oss.filter.1=org.apache.log4j.varia.LevelRangeFilter
log4j.appender.oss.filter.1.LevelMin=ERROR
log4j.appender.oss.filter.1.LevelMax=FATAL

# 特定Logger配置示例
# 业务日志：DEBUG级别，不继承根Logger的配置
log4j.logger.com.mycompany.business=DEBUG, console, oss
log4j.additivity.com.mycompany.business=false

# 第三方库日志：只输出到控制台，不上传到OSS
log4j.logger.org.springframework=WARN, console
log4j.additivity.org.springframework=false

log4j.logger.com.alibaba=INFO, console
log4j.additivity.com.alibaba=false

# 数据库相关日志：可选择是否上传
log4j.logger.org.hibernate=INFO, console
log4j.additivity.org.hibernate=false

# 配置说明：
# 1. 环境变量OSS_ACCESS_KEY_ID和OSS_ACCESS_KEY_SECRET需要在运行时设置
# 2. endpoint根据实际使用的对象存储服务进行调整
# 3. keyPrefix建议使用应用名和环境来区分不同应用和环境的日志
# 4. 队列和批处理参数可根据应用负载调整
# 5. 过滤器可根据需要调整日志级别
